{"remainingRequest":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\categories\\Category.vue?vue&type=style&index=0&id=24755d07&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\categories\\Category.vue","mtime":1619880648732},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5zZWxlY3QtZm9ybSB7DQogIHdpZHRoOiA4MCU7DQp9DQo="},{"version":3,"sources":["Category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA","file":"Category.vue","sourceRoot":"src/views/categories","sourcesContent":["<template>\r\n  <CRow>\r\n    <CCol col=\"12\" lg=\"6\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">\r\n          <h3 class=\" category-title float-left\">{{ category.name }}</h3>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <base-skill v-if=\"category.skills.length == 0\"\r\n            >No skills to show\r\n          </base-skill>\r\n          <base-skill\r\n            v-for=\"skill in category.skills\"\r\n            :key=\"skill.id\"\r\n            :skillId=\"skill.id\"\r\n            :category_id=\"category.id\"\r\n            @delete=\"loadCategories\"\r\n            >{{ skill.name }}\r\n          </base-skill>\r\n          <!-- Categories List -->\r\n        </div>\r\n        <div class=\"card-footer text-muted\">\r\n          <!-- Add skill to Category Form -->\r\n          <div class=\"d-flex justify-content-between mb-3\">\r\n            <b-form-select\r\n              v-model=\"selected\"\r\n              :options=\"options\"\r\n              class=\"select-form\"\r\n            ></b-form-select>\r\n            <button class=\"btn btn-warning float-right\" @click=\"addSkill\">\r\n              Add Skill\r\n            </button>\r\n          </div>\r\n\r\n          <button class=\"btn btn-primary float-left\" @click=\"goBack\">\r\n            Back\r\n          </button>\r\n          <button class=\"btn btn-warning float-right\" @click=\"showUpdateForm\">\r\n            Edit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </CCol>\r\n\r\n    <CCol col=\"12\" lg=\"6\">\r\n      <router-view></router-view>\r\n    </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport BaseSkill from \"./BaseSkill\";\r\nexport default {\r\n  components: {\r\n    BaseSkill,\r\n  },\r\n  data() {\r\n    return {\r\n      selected: null,\r\n    };\r\n  },\r\n  computed: {\r\n    skills() {\r\n      return this.$store.getters.getSkills;\r\n    },\r\n    category() {\r\n      const id = parseInt(this.$route.params.id);\r\n      return this.$store.getters.getCategoryById(id);\r\n    },\r\n    options() {\r\n      const skills = this.$store.getters.getSkills;\r\n      /*const filtredSkills = skills.filter((skill) => {\r\n        this.category.skills.forEach(function(categorySkill) {\r\n         if( categorySkill.id != skill.id ) return skill;\r\n        });\r\n      });*/\r\n      const options = [\r\n        {\r\n          value: null,\r\n          text: \"Please select an option\",\r\n        },\r\n      ];\r\n      skills.forEach(function(skill) {\r\n        const option = {\r\n          value: skill.id,\r\n          text: skill.name,\r\n        };\r\n        options.push(option);\r\n      });\r\n      return options;\r\n    },\r\n  },\r\n  methods: {\r\n    loadSkills() {\r\n      this.$store\r\n        .dispatch(\"loadSkills\")\r\n        .then((result) => {\r\n          console.log(result);\r\n        })\r\n        .catch((error) => {});\r\n    },\r\n    loadCategories() {\r\n      this.$store.dispatch(\"loadCategories\");\r\n    },\r\n    addSkill() {\r\n      if (this.selected == null) {\r\n        return;\r\n      }\r\n      const skill = this.$store.getters.getSkillById(this.selected);\r\n      this.$store\r\n        .dispatch(\"addSkillToCategory\", {\r\n          category_id: this.category.id,\r\n          skill_id: skill.id,\r\n        })\r\n        .then((res) => {\r\n          this.loadCategories();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    },\r\n    goBack() {\r\n      this.usersOpened\r\n        ? this.$router.go(-1)\r\n        : this.$router.push({ path: \"/dash/categories\" });\r\n    },\r\n    showUpdateForm() {},\r\n  },\r\n  created() {\r\n    this.loadSkills();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.select-form {\r\n  width: 80%;\r\n}\r\n</style>\r\n"]}]}