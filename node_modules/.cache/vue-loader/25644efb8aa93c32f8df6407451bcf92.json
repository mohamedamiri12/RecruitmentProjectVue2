{"remainingRequest":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue Js Projects\\AdminPanel\\src\\views\\clients\\Clients.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue Js Projects\\AdminPanel\\src\\views\\clients\\Clients.vue","mtime":1619446513990},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlcnMiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TW9kYWw6IGZhbHNlLAogICAgICBmaWVsZHM6IFsKICAgICAgICB7IGtleTogImZpcnN0X25hbWUiLCBsYWJlbDogIkZpcnN0IG5hbWUiIH0sCiAgICAgICAgeyBrZXk6ICJsYXN0X25hbWUiLCBsYWJlbDogIkxhc3QgbmFtZSIgfSwKICAgICAgICB7IGtleTogImVtYWlsIiwgbGFiZWw6ICJFbWFpbCIgfSwKICAgICAgICB7IGtleTogInBob25lX251bWJlciIsIGxhYmVsOiAiUGhvbmUgbnVtYmVyIiB9LAogICAgICAgIHsga2V5OiAiYWN0aW9ucyIsIGxhYmVsOiAiQWN0aW9ucyIgfSwKICAgICAgXSwKICAgICAgYWN0aXZlUGFnZTogMSwKICAgICAgZXJyb3I6ICIiLAogICAgICBzdWNjZXNzOiAiIiwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xpZW50cygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q2xpZW50czsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcihyb3V0ZSkgewogICAgICAgIGlmIChyb3V0ZS5xdWVyeSAmJiByb3V0ZS5xdWVyeS5wYWdlKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZVBhZ2UgPSBOdW1iZXIocm91dGUucXVlcnkucGFnZSk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcXVlcnk6IHsgcGFnZTogdmFsIH0gfSk7CiAgICB9LAogICAgc2hvd0NsaWVudChpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGBjbGllbnRzLyR7aWR9YCB9KTsKICAgIH0sCiAgICBsb2FkQ2xpZW50cygpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImxvYWRDbGllbnRzIik7CiAgICB9LAogICAgZGVsZXRlQ2xpZW50KGlkKSB7CiAgICAgIHRoaXMuJHN0b3JlCiAgICAgICAgLmRpc3BhdGNoKCJkZWxldGVDbGllbnQiLCBpZCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSAiQ0xpZW50J3MgZGVsZXRlZCBzdWNjZXNzZnVsbHkgISEhIjsKICAgICAgICAgIGNvbnNvbGUubG9nKCJDTGllbnQncyBkZWxldGVkIHN1Y2Nlc3NmdWxseSAhISEiKTsKICAgICAgICAgIHRoaXMubG9hZENsaWVudHMoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgdGhpcy5lcnJvciA9ICJUaGUgZGVsZXRlIHByb2Nlc3MgZmFpbGVkIjsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQ2xpZW50cygpOwogIH0sCn07Cg=="},{"version":3,"sources":["Clients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Clients.vue","sourceRoot":"src/views/clients","sourcesContent":["<template>\n  <CRow>\n    <CCol col=\"12\" xl=\"12\">\n      <CCard>\n        <div class=\"alert alert-danger text-center px-3 my-4\" v-if=\"error\">\n          {{ error }}\n        </div>\n        <div class=\"alert alert-success text-center px-3 my-4\" v-if=\"success\">\n          {{ success }}\n        </div>\n        <CCardHeader>\n          <b>Clients</b>\n        </CCardHeader>\n        <CCardBody>\n          <CDataTable\n            hover\n            striped\n            :items=\"clients\"\n            :fields=\"fields\"\n            :items-per-page=\"7\"\n            :active-page=\"activePage\"\n            :pagination=\"{ doubleArrows: false, align: 'center' }\"\n            @page-change=\"pageChange\"\n            class=\"text-center\"\n            id=\"thead-dark\"\n          >\n            <template #actions=\"data\">\n              <td>\n                <b-button\n                  size=\"sm\"\n                  variant=\"outline-primary mr-2\"\n                  @click=\"showClient(data.item.id)\"\n                  >Show</b-button\n                >\n                <b-button\n                  size=\"sm\"\n                  variant=\"danger\"\n                  type=\"button\"\n                  data-toggle=\"modal\"\n                  data-target=\"#exampleModal\"\n                  >Delete</b-button\n                >\n              </td>\n\n              <!-- Modal to Confirm Delete -->\n              <div\n                class=\"modal fade\"\n                id=\"exampleModal\"\n                tabindex=\"-1\"\n                role=\"dialog\"\n                aria-labelledby=\"exampleModalLabel\"\n                aria-hidden=\"true\"\n              >\n                >\n                <div class=\"modal-dialog\" role=\"document\">\n                  <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                      <h5 class=\"modal-title\">\n                        Are you sure you want to delete ?\n                      </h5>\n                      <button\n                        type=\"button\"\n                        class=\"close\"\n                        data-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                      >\n                        <span aria-hidden=\"true\" @click=\"showModal = false\">&times;</span>\n                      </button>\n                    </div>\n                    <div class=\"modal-body\">\n                      <p>chi haja tal mn ba3d</p>\n                    </div>\n                    <div class=\"modal-footer\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-primary\"\n                        @click=\"deleteClient(data.item.id)\"\n                      >\n                        Delete\n                      </button>\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-secondary\"\n                        data-dismiss=\"modal\"\n                        @click=\"showModal = false\"\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </CDataTable>\n        </CCardBody>\n      </CCard>\n    </CCol>\n  </CRow>\n</template>\n\n<script>\nexport default {\n  name: \"Users\",\n  data() {\n    return {\n      showModal: false,\n      fields: [\n        { key: \"first_name\", label: \"First name\" },\n        { key: \"last_name\", label: \"Last name\" },\n        { key: \"email\", label: \"Email\" },\n        { key: \"phone_number\", label: \"Phone number\" },\n        { key: \"actions\", label: \"Actions\" },\n      ],\n      activePage: 1,\n      error: \"\",\n      success: \"\",\n    };\n  },\n  computed: {\n    clients() {\n      return this.$store.getters.getClients;\n    },\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler(route) {\n        if (route.query && route.query.page) {\n          this.activePage = Number(route.query.page);\n        }\n      },\n    },\n  },\n  methods: {\n    pageChange(val) {\n      this.$router.push({ query: { page: val } });\n    },\n    showClient(id) {\n      this.$router.push({ path: `clients/${id}` });\n    },\n    loadClients() {\n      this.$store.dispatch(\"loadClients\");\n    },\n    deleteClient(id) {\n      this.$store\n        .dispatch(\"deleteClient\", id)\n        .then((res) => {\n          this.success = \"CLient's deleted successfully !!!\";\n          console.log(\"CLient's deleted successfully !!!\");\n          this.loadClients();\n        })\n        .catch((error) => {\n          console.log(error.message);\n          this.error = \"The delete process failed\";\n        });\n    },\n  },\n  created() {\n    this.loadClients();\n  },\n};\n</script>\n\n<style scoped></style>\n"]}]}