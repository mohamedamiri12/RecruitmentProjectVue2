{"remainingRequest":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\Administrators\\AdminProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\Administrators\\AdminProfile.vue","mtime":1620610212288},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQoNCmltcG9ydCBnZXRIZWFkZXIgZnJvbSAnLi4vLi4vY29uZmlnLmpzJw0KDQpheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQWNjZXB0J10gPSBnZXRIZWFkZXIoKS5BY2NlcHQ7DQpheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gZ2V0SGVhZGVyKCkuQXV0aG9yaXphdGlvbjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyJhZG1pbmlzdHJhdG9yIl0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIGlzTG9hZGluZzogZmFsc2UsDQogICAgICBzdWNjZXNzVXBkYXRlOiAiIiwNCiAgICAgIGVycm9yOiAiIiwNCiAgICAgIGFkbWluaXN0cmF0b3JfaW1hZ2U6IG51bGwsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBhY3RpZkFkbWluaXN0cmF0b3IoKSB7DQogICAgICByZXR1cm4gdGhpcy5hZG1pbmlzdHJhdG9yOw0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGxvYWRJbWFnZShlKSB7DQogICAgICB0aGlzLmFkbWluaXN0cmF0b3JfaW1hZ2UgPSBlLnRhcmdldC5maWxlc1swXTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWRtaW5pc3RyYXRvcl9pbWFnZSk7DQogICAgfSwNCiAgICB1cGRhdGVBZG1pbigpIHsNCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIC8vdGhpcy5jaGVja1VwbG9hZEZvcm07DQoNCiAgICAgIGNvbnN0IHVwZGF0ZWRBZG1pbiA9IG5ldyBGb3JtRGF0YSgpOw0KDQogICAgICB1cGRhdGVkQWRtaW4uYXBwZW5kKCJmaXJzdF9uYW1lIiwgdGhpcy5hY3RpZkFkbWluaXN0cmF0b3IuZmlyc3RfbmFtZSk7DQogICAgICB1cGRhdGVkQWRtaW4uYXBwZW5kKCJsYXN0X25hbWUiLCB0aGlzLmFjdGlmQWRtaW5pc3RyYXRvci5sYXN0X25hbWUpOw0KICAgICAgdXBkYXRlZEFkbWluLmFwcGVuZCgiZW1haWwiLCB0aGlzLmFjdGlmQWRtaW5pc3RyYXRvci5lbWFpbCk7DQogICAgICB1cGRhdGVkQWRtaW4uYXBwZW5kKCJwYXNzd29yZCIsIHRoaXMucGFzc3dvcmQpOw0KICAgICAgdXBkYXRlZEFkbWluLmFwcGVuZCgicGhvbmVfbnVtYmVyIiwgdGhpcy5hY3RpZkFkbWluaXN0cmF0b3IucGhvbmVfbnVtYmVyKTsNCiAgICAgIHVwZGF0ZWRBZG1pbi5hcHBlbmQoImFkbWluaXN0cmF0b3JfaW1hZ2UiLCB0aGlzLmFkbWluaXN0cmF0b3JfaW1hZ2UpOw0KICAgICAgdXBkYXRlZEFkbWluLmFwcGVuZCgnX21ldGhvZCcsICdQVVQnKTsgDQoNCiAgICAgIGNvbnNvbGUubG9nKDExMTExMTExKTsNCg0KICAgICAgY29uc3QgaWQgPSB0aGlzLmFjdGlmQWRtaW5pc3RyYXRvci5pZDsNCg0KICAgICAgY29uc3QgYXBpVXBkYXRlUm91dGUgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9hZG1pbmlzdHJhdG9ycy8iICsgaWQ7DQogICAgICBjb25zdCBjb25maWcgPSB7IGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9IH07DQoNCiAgICAgIGF4aW9zLnBvc3QoYXBpVXBkYXRlUm91dGUsIHVwZGF0ZWRBZG1pbiwgY29uZmlnKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coIkFmdGVyIERvbmUgQXhpb3MgPT0+IHVwZGF0ZSBVc2VyIik7DQogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLnN1Y2Nlc3NVcGRhdGUgPSAiVGhlIHVwZGF0ZSBzdWNjZWRlZCI7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuZXJyb3IgPSAiU29tZXRoaW5nIHdyb25nLCBQbGVhc2UgdHJ5IGFnYWluIjsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["AdminProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminProfile.vue","sourceRoot":"src/views/Administrators","sourcesContent":["<template>\r\n  <CCol md=\"12\">\r\n    <CCard>\r\n      <CCardHeader>\r\n        <strong>Admin Profil</strong>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <div\r\n          class=\"alert-success text-center my-3 px-4 py-3\"\r\n          v-if=\"successUpdate\"\r\n        >\r\n          {{ successUpdate }}\r\n        </div>\r\n        <div class=\"alert-danger text-center my-3 px-4 py-3\" v-if=\"error\">\r\n          {{ error }}\r\n        </div>\r\n\r\n        <div\r\n          class=\"d-flex justify-content-center px-4 py-3 my-3\"\r\n          v-if=\"isLoading\"\r\n        >\r\n          <b-spinner\r\n            variant=\"success\"\r\n            label=\"Spinning\"\r\n            class=\"mr-3\"\r\n          ></b-spinner>\r\n          Loading ...\r\n        </div>\r\n        <form action=\"\" enctype=\"multipart/form-data\">\r\n          <CInput\r\n            description=\"Enter your first name\"\r\n            label=\"First Name\"\r\n            horizontal\r\n            v-model=\"actifAdministrator.first_name\"\r\n          />\r\n          <CInput\r\n            description=\"Enter your last name\"\r\n            label=\"Last Name\"\r\n            horizontal\r\n            v-model=\"actifAdministrator.last_name\"\r\n          />\r\n          <CInput\r\n            label=\"Phone\"\r\n            description=\"your phone number must be 10 caracters\"\r\n            placeholder=\"Enter your phone number\"\r\n            horizontal\r\n            v-model=\"actifAdministrator.phone_number\"\r\n          />\r\n          <CInput\r\n            label=\"Email\"\r\n            description=\"Please enter your email\"\r\n            placeholder=\"Enter your email\"\r\n            type=\"email\"\r\n            horizontal\r\n            autocomplete=\"email\"\r\n            v-model=\"actifAdministrator.email\"\r\n          />\r\n          <!-- Upload File -->\r\n          <p class=\"mt-3 mb-2\">Administrator Image</p>\r\n          <div class=\"custom-file\">\r\n            <input\r\n              type=\"file\"\r\n              class=\"custom-file-input\"\r\n              id=\"validatedCustomFile\"\r\n              required\r\n              accept=\"image/*\"\r\n              @change=\"uploadImage\"\r\n            />\r\n            <label class=\"custom-file-label\" for=\"validatedCustomFile\"\r\n              >Choose file...</label\r\n            >\r\n          </div>\r\n        </form>\r\n      </CCardBody>\r\n      <CCardFooter>\r\n        <CButton\r\n          type=\"submit\"\r\n          size=\"sm\"\r\n          color=\"primary\"\r\n          class=\"mr-3\"\r\n          @click.prevent=\"updateAdmin\"\r\n        >\r\n          <CIcon name=\"cil-check-circle\" /> Submit</CButton\r\n        >\r\n        <CButton type=\"reset\" size=\"sm\" color=\"danger\"\r\n          ><CIcon name=\"cil-ban\" /> Reset</CButton\r\n        >\r\n      </CCardFooter>\r\n    </CCard>\r\n  </CCol>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nimport getHeader from '../../config.js'\r\n\r\naxios.defaults.headers.common['Accept'] = getHeader().Accept;\r\naxios.defaults.headers.common['Authorization'] = getHeader().Authorization;\r\n\r\nexport default {\r\n  props: [\"administrator\"],\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      isLoading: false,\r\n      successUpdate: \"\",\r\n      error: \"\",\r\n      administrator_image: null,\r\n    };\r\n  },\r\n  computed: {\r\n    actifAdministrator() {\r\n      return this.administrator;\r\n    },\r\n  },\r\n  methods: {\r\n    uploadImage(e) {\r\n      this.administrator_image = e.target.files[0];\r\n      console.log(this.administrator_image);\r\n    },\r\n    updateAdmin() {\r\n      this.isLoading = true;\r\n      //this.checkUploadForm;\r\n\r\n      const updatedAdmin = new FormData();\r\n\r\n      updatedAdmin.append(\"first_name\", this.actifAdministrator.first_name);\r\n      updatedAdmin.append(\"last_name\", this.actifAdministrator.last_name);\r\n      updatedAdmin.append(\"email\", this.actifAdministrator.email);\r\n      updatedAdmin.append(\"password\", this.password);\r\n      updatedAdmin.append(\"phone_number\", this.actifAdministrator.phone_number);\r\n      updatedAdmin.append(\"administrator_image\", this.administrator_image);\r\n      updatedAdmin.append('_method', 'PUT'); \r\n\r\n      console.log(11111111);\r\n\r\n      const id = this.actifAdministrator.id;\r\n\r\n      const apiUpdateRoute = \"http://localhost:8000/api/administrators/\" + id;\r\n      const config = { headers: { 'content-type': 'multipart/form-data' } };\r\n\r\n      axios.post(apiUpdateRoute, updatedAdmin, config)\r\n        .then((res) => {\r\n          console.log(\"After Done Axios ==> update User\");\r\n          this.isLoading = false;\r\n          this.successUpdate = \"The update succeded\";\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data);\r\n          this.isLoading = false;\r\n          this.error = \"Something wrong, Please try again\";\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n"]}]}