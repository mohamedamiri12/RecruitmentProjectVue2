{"remainingRequest":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\Administrators\\AdminProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\Administrators\\AdminProfile.vue","mtime":1619614064819},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbImFkbWluaXN0cmF0b3IiXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgaXNMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHN1Y2Nlc3NVcGRhdGU6ICIiLA0KICAgICAgZXJyb3I6ICIiLA0KICAgICAgYWRtaW5pc3RyYXRvcl9pbWFnZTogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGFjdGlmQWRtaW5pc3RyYXRvcigpIHsNCiAgICAgIHJldHVybiB0aGlzLmFkbWluaXN0cmF0b3I7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwbG9hZEltYWdlKGUpIHsNCiAgICAgIHRoaXMuYWRtaW5pc3RyYXRvcl9pbWFnZSA9IGUudGFyZ2V0LmZpbGVzWzBdOw0KICAgICAgY29uc29sZS5sb2codGhpcy5hZG1pbmlzdHJhdG9yX2ltYWdlKTsNCiAgICB9LA0KICAgIHVwZGF0ZUFkbWluKCkgew0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgICAgLy90aGlzLmNoZWNrVXBsb2FkRm9ybTsNCg0KICAgICAgY29uc3QgdXBkYXRlZEFkbWluID0gbmV3IEZvcm1EYXRhKCk7DQoNCiAgICAgIHVwZGF0ZWRBZG1pbi5hcHBlbmQoImZpcnN0X25hbWUiLCB0aGlzLmFjdGlmQWRtaW5pc3RyYXRvci5maXJzdF9uYW1lKTsNCiAgICAgIHVwZGF0ZWRBZG1pbi5hcHBlbmQoImxhc3RfbmFtZSIsIHRoaXMuYWN0aWZBZG1pbmlzdHJhdG9yLmxhc3RfbmFtZSk7DQogICAgICB1cGRhdGVkQWRtaW4uYXBwZW5kKCJlbWFpbCIsIHRoaXMuYWN0aWZBZG1pbmlzdHJhdG9yLmVtYWlsKTsNCiAgICAgIHVwZGF0ZWRBZG1pbi5hcHBlbmQoInBhc3N3b3JkIiwgdGhpcy5wYXNzd29yZCk7DQogICAgICB1cGRhdGVkQWRtaW4uYXBwZW5kKCJwaG9uZV9udW1iZXIiLCB0aGlzLmFjdGlmQWRtaW5pc3RyYXRvci5waG9uZV9udW1iZXIpOw0KICAgICAgdXBkYXRlZEFkbWluLmFwcGVuZCgiYWRtaW5pc3RyYXRvcl9pbWFnZSIsIHRoaXMuYWRtaW5pc3RyYXRvcl9pbWFnZSk7DQogICAgICB1cGRhdGVkQWRtaW4uYXBwZW5kKCdfbWV0aG9kJywgJ1BVVCcpOyANCg0KICAgICAgY29uc29sZS5sb2coMTExMTExMTEpOw0KDQogICAgICBjb25zdCBpZCA9IHRoaXMuYWN0aWZBZG1pbmlzdHJhdG9yLmlkOw0KDQogICAgICBjb25zdCBhcGlVcGRhdGVSb3V0ZSA9ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2FkbWluaXN0cmF0b3JzLyIgKyBpZDsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHsgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH0gfTsNCg0KICAgICAgYXhpb3MucG9zdChhcGlVcGRhdGVSb3V0ZSwgdXBkYXRlZEFkbWluLCBjb25maWcpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygiQWZ0ZXIgRG9uZSBBeGlvcyA9PT4gdXBkYXRlIFVzZXIiKTsNCiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuc3VjY2Vzc1VwZGF0ZSA9ICJUaGUgdXBkYXRlIHN1Y2NlZGVkIjsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5lcnJvciA9ICJTb21ldGhpbmcgd3JvbmcsIFBsZWFzZSB0cnkgYWdhaW4iOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["AdminProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminProfile.vue","sourceRoot":"src/views/Administrators","sourcesContent":["<template>\r\n  <CCol md=\"12\">\r\n    <CCard>\r\n      <CCardHeader>\r\n        <strong>Admin Profil</strong>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <div\r\n          class=\"alert-success text-center my-3 px-4 py-3\"\r\n          v-if=\"successUpdate\"\r\n        >\r\n          {{ successUpdate }}\r\n        </div>\r\n        <div class=\"alert-danger text-center my-3 px-4 py-3\" v-if=\"error\">\r\n          {{ error }}\r\n        </div>\r\n\r\n        <div\r\n          class=\"d-flex justify-content-center px-4 py-3 my-3\"\r\n          v-if=\"isLoading\"\r\n        >\r\n          <b-spinner\r\n            variant=\"success\"\r\n            label=\"Spinning\"\r\n            class=\"mr-3\"\r\n          ></b-spinner>\r\n          Loading ...\r\n        </div>\r\n        <form action=\"\" enctype=\"multipart/form-data\">\r\n          <CInput\r\n            description=\"Enter your first name\"\r\n            label=\"First Name\"\r\n            horizontal\r\n            v-model=\"actifAdministrator.first_name\"\r\n          />\r\n          <CInput\r\n            description=\"Enter your last name\"\r\n            label=\"Last Name\"\r\n            horizontal\r\n            v-model=\"actifAdministrator.last_name\"\r\n          />\r\n          <CInput\r\n            label=\"Phone\"\r\n            description=\"your phone number must be 10 caracters\"\r\n            placeholder=\"Enter your phone number\"\r\n            horizontal\r\n            v-model=\"actifAdministrator.phone_number\"\r\n          />\r\n          <CInput\r\n            label=\"Email\"\r\n            description=\"Please enter your email\"\r\n            placeholder=\"Enter your email\"\r\n            type=\"email\"\r\n            horizontal\r\n            autocomplete=\"email\"\r\n            v-model=\"actifAdministrator.email\"\r\n          />\r\n          <!-- Upload File -->\r\n          <p class=\"mt-3 mb-2\">Administrator Image</p>\r\n          <div class=\"custom-file\">\r\n            <input\r\n              type=\"file\"\r\n              class=\"custom-file-input\"\r\n              id=\"validatedCustomFile\"\r\n              required\r\n              accept=\"image/*\"\r\n              @change=\"uploadImage\"\r\n            />\r\n            <label class=\"custom-file-label\" for=\"validatedCustomFile\"\r\n              >Choose file...</label\r\n            >\r\n          </div>\r\n        </form>\r\n      </CCardBody>\r\n      <CCardFooter>\r\n        <CButton\r\n          type=\"submit\"\r\n          size=\"sm\"\r\n          color=\"primary\"\r\n          class=\"mr-3\"\r\n          @click.prevent=\"updateAdmin\"\r\n        >\r\n          <CIcon name=\"cil-check-circle\" /> Submit</CButton\r\n        >\r\n        <CButton type=\"reset\" size=\"sm\" color=\"danger\"\r\n          ><CIcon name=\"cil-ban\" /> Reset</CButton\r\n        >\r\n      </CCardFooter>\r\n    </CCard>\r\n  </CCol>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  props: [\"administrator\"],\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      isLoading: false,\r\n      successUpdate: \"\",\r\n      error: \"\",\r\n      administrator_image: null,\r\n    };\r\n  },\r\n  computed: {\r\n    actifAdministrator() {\r\n      return this.administrator;\r\n    },\r\n  },\r\n  methods: {\r\n    uploadImage(e) {\r\n      this.administrator_image = e.target.files[0];\r\n      console.log(this.administrator_image);\r\n    },\r\n    updateAdmin() {\r\n      this.isLoading = true;\r\n      //this.checkUploadForm;\r\n\r\n      const updatedAdmin = new FormData();\r\n\r\n      updatedAdmin.append(\"first_name\", this.actifAdministrator.first_name);\r\n      updatedAdmin.append(\"last_name\", this.actifAdministrator.last_name);\r\n      updatedAdmin.append(\"email\", this.actifAdministrator.email);\r\n      updatedAdmin.append(\"password\", this.password);\r\n      updatedAdmin.append(\"phone_number\", this.actifAdministrator.phone_number);\r\n      updatedAdmin.append(\"administrator_image\", this.administrator_image);\r\n      updatedAdmin.append('_method', 'PUT'); \r\n\r\n      console.log(11111111);\r\n\r\n      const id = this.actifAdministrator.id;\r\n\r\n      const apiUpdateRoute = \"http://localhost:8000/api/administrators/\" + id;\r\n      const config = { headers: { 'content-type': 'multipart/form-data' } };\r\n\r\n      axios.post(apiUpdateRoute, updatedAdmin, config)\r\n        .then((res) => {\r\n          console.log(\"After Done Axios ==> update User\");\r\n          this.isLoading = false;\r\n          this.successUpdate = \"The update succeded\";\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data);\r\n          this.isLoading = false;\r\n          this.error = \"Something wrong, Please try again\";\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n"]}]}