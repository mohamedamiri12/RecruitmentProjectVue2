{"remainingRequest":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\categories\\Category.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\src\\views\\categories\\Category.vue","mtime":1620679352717},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AMIRI MOHAMED\\Desktop\\AdminPanel (1)\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQmFzZVNraWxsIGZyb20gIi4vQmFzZVNraWxsIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIEJhc2VTa2lsbCwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2VsZWN0ZWQ6IG51bGwsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBza2lsbHMoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTa2lsbHM7DQogICAgfSwNCiAgICBjYXRlZ29yeSgpIHsNCiAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zLmlkKTsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENhdGVnb3J5QnlJZChpZCk7DQogICAgfSwNCiAgICBvcHRpb25zKCkgew0KICAgICAgY29uc3Qgc2tpbGxzID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTa2lsbHM7DQogICAgICAvKmNvbnN0IGZpbHRyZWRTa2lsbHMgPSBza2lsbHMuZmlsdGVyKChza2lsbCkgPT4gew0KICAgICAgICB0aGlzLmNhdGVnb3J5LnNraWxscy5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5U2tpbGwpIHsNCiAgICAgICAgIGlmKCBjYXRlZ29yeVNraWxsLmlkICE9IHNraWxsLmlkICkgcmV0dXJuIHNraWxsOw0KICAgICAgICB9KTsNCiAgICAgIH0pOyovDQogICAgICBjb25zdCBvcHRpb25zID0gWw0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6IG51bGwsDQogICAgICAgICAgdGV4dDogIlBsZWFzZSBzZWxlY3QgYW4gb3B0aW9uIiwNCiAgICAgICAgfSwNCiAgICAgIF07DQogICAgICBza2lsbHMuZm9yRWFjaChmdW5jdGlvbihza2lsbCkgew0KICAgICAgICBjb25zdCBvcHRpb24gPSB7DQogICAgICAgICAgdmFsdWU6IHNraWxsLmlkLA0KICAgICAgICAgIHRleHQ6IHNraWxsLm5hbWUsDQogICAgICAgIH07DQogICAgICAgIG9wdGlvbnMucHVzaChvcHRpb24pOw0KICAgICAgfSk7DQogICAgICByZXR1cm4gb3B0aW9uczsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbG9hZFNraWxscygpIHsNCiAgICAgIHRoaXMuJHN0b3JlDQogICAgICAgIC5kaXNwYXRjaCgibG9hZFNraWxscyIpDQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7fSk7DQogICAgfSwNCiAgICBsb2FkQ2F0ZWdvcmllcygpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2FkQ2F0ZWdvcmllcyIpOw0KICAgIH0sDQogICAgYWRkU2tpbGwoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZCA9PSBudWxsKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGNvbnN0IHNraWxsID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTa2lsbEJ5SWQodGhpcy5zZWxlY3RlZCk7DQogICAgICB0aGlzLiRzdG9yZQ0KICAgICAgICAuZGlzcGF0Y2goImFkZFNraWxsVG9DYXRlZ29yeSIsIHsNCiAgICAgICAgICBjYXRlZ29yeV9pZDogdGhpcy5jYXRlZ29yeS5pZCwNCiAgICAgICAgICBza2lsbF9pZDogc2tpbGwuaWQsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLmxvYWRDYXRlZ29yaWVzKCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnb0JhY2soKSB7DQogICAgICB0aGlzLnVzZXJzT3BlbmVkDQogICAgICAgID8gdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgICA6IHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9kYXNoL2NhdGVnb3JpZXMiIH0pOw0KICAgIH0sDQogICAgc2hvd1VwZGF0ZUZvcm0oKSB7DQogICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9kYXNoL2NhdGVnb3JpZXMvIiArIGlkICsgIi9lZGl0IiB9KTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZFNraWxscygpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Category.vue","sourceRoot":"src/views/categories","sourcesContent":["<template>\r\n  <CRow>\r\n    <CCol col=\"12\" lg=\"6\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">\r\n          <h3 class=\" category-title float-left\">{{ category.name }}</h3>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <base-skill v-if=\"category.skills.length == 0\"\r\n            >No skills to show\r\n          </base-skill>\r\n          <base-skill\r\n            v-for=\"skill in category.skills\"\r\n            :key=\"skill.id\"\r\n            :skillId=\"skill.id\"\r\n            :category_id=\"category.id\"\r\n            @delete=\"loadCategories\"\r\n            >{{ skill.name }}\r\n          </base-skill>\r\n          <!-- Categories List -->\r\n        </div>\r\n        <div class=\"card-footer text-muted\">\r\n          <!-- Add skill to Category Form -->\r\n          <div class=\"d-flex justify-content-between mb-3\">\r\n            <b-form-select\r\n              v-model=\"selected\"\r\n              :options=\"options\"\r\n              class=\"select-form\"\r\n            ></b-form-select>\r\n            <button class=\"btn btn-warning float-right\" @click=\"addSkill\">\r\n              <i class=\"fas fa-plus mr-2\"></i>Add Skill\r\n            </button>\r\n          </div>\r\n\r\n          <button class=\"btn btn-primary float-left\" @click=\"goBack\">\r\n            <i class=\"fas fa-undo-alt mr-2\"></i>\r\n            Back\r\n          </button>\r\n          <button class=\"btn btn-warning float-right\" @click=\"showUpdateForm\">\r\n            <i class=\"fas fa-edit mr-2\"></i>\r\n            Edit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </CCol>\r\n\r\n    <CCol col=\"12\" lg=\"6\">\r\n      <router-view></router-view>\r\n    </CCol>\r\n  </CRow>\r\n</template>\r\n\r\n<script>\r\nimport BaseSkill from \"./BaseSkill\";\r\nexport default {\r\n  components: {\r\n    BaseSkill,\r\n  },\r\n  data() {\r\n    return {\r\n      selected: null,\r\n    };\r\n  },\r\n  computed: {\r\n    skills() {\r\n      return this.$store.getters.getSkills;\r\n    },\r\n    category() {\r\n      const id = parseInt(this.$route.params.id);\r\n      return this.$store.getters.getCategoryById(id);\r\n    },\r\n    options() {\r\n      const skills = this.$store.getters.getSkills;\r\n      /*const filtredSkills = skills.filter((skill) => {\r\n        this.category.skills.forEach(function(categorySkill) {\r\n         if( categorySkill.id != skill.id ) return skill;\r\n        });\r\n      });*/\r\n      const options = [\r\n        {\r\n          value: null,\r\n          text: \"Please select an option\",\r\n        },\r\n      ];\r\n      skills.forEach(function(skill) {\r\n        const option = {\r\n          value: skill.id,\r\n          text: skill.name,\r\n        };\r\n        options.push(option);\r\n      });\r\n      return options;\r\n    },\r\n  },\r\n  methods: {\r\n    loadSkills() {\r\n      this.$store\r\n        .dispatch(\"loadSkills\")\r\n        .then((result) => {\r\n          console.log(result);\r\n        })\r\n        .catch((error) => {});\r\n    },\r\n    loadCategories() {\r\n      this.$store.dispatch(\"loadCategories\");\r\n    },\r\n    addSkill() {\r\n      if (this.selected == null) {\r\n        return;\r\n      }\r\n      const skill = this.$store.getters.getSkillById(this.selected);\r\n      this.$store\r\n        .dispatch(\"addSkillToCategory\", {\r\n          category_id: this.category.id,\r\n          skill_id: skill.id,\r\n        })\r\n        .then((res) => {\r\n          this.loadCategories();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.message);\r\n        });\r\n    },\r\n    goBack() {\r\n      this.usersOpened\r\n        ? this.$router.go(-1)\r\n        : this.$router.push({ path: \"/dash/categories\" });\r\n    },\r\n    showUpdateForm() {\r\n      const id = this.$route.params.id;\r\n      this.$router.push({ path: \"/dash/categories/\" + id + \"/edit\" });\r\n    },\r\n  },\r\n  created() {\r\n    this.loadSkills();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.select-form {\r\n  width: 80%;\r\n}\r\n</style>\r\n"]}]}