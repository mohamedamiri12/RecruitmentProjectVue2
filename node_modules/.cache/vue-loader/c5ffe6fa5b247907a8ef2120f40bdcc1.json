{"remainingRequest":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue Js Projects\\AdminPanel\\src\\views\\clients\\ClientProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue Js Projects\\AdminPanel\\src\\views\\clients\\ClientProfile.vue","mtime":1619445279757},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbJ2VkaXRlZENsaWVudCddLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvKmZpcnN0TmFtZTogdGhpcy5lZGl0ZWRDbGllbnQuZmlyc3RfbmFtZSwNCiAgICAgIGxhc3ROYW1lOiB0aGlzLmNsaWVudC5sYXN0X25hbWUsDQogICAgICBlbWFpbDogdGhpcy5jbGllbnQuZW1haWwsDQogICAgICBwYXNzd29yZDogdGhpcy5jbGllbnQucGFzc3dvcmQsDQogICAgICBwaG9uZU51bWJlcjogdGhpcy5jbGllbnQucGhvbmVOdW1iZXIsDQogICAgICBzdGF0dXM6IHRoaXMuY2xpZW50LnN0YXR1cywqLw0KICAgICAgcGFzc3dvcmQ6ICcnLA0KICAgICAgaXNMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHN1Y2Nlc3NVcGRhdGU6ICcnLA0KICAgICAgZXJyb3I6ICcnLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgY2xpZW50KCkgew0KICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkQ2xpZW50Ow0KICAgIH0sDQogICAgc3RhdHVzKCl7DQogICAgICByZXR1cm4gdGhpcy5jbGllbnQuaXNfc3VzcGVuZGVkID09PSAwID8gZmFsc2U6dHJ1ZTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjaGVja1Bhc3N3b3JkRm9ybVZhbHVlKCl7DQogICAgICBpZiggdGhpcy5wYXNzd29yZC5sZW5ndGggPT0gMCApew0KICAgICAgICB0aGlzLnBhc3N3b3JkID0gdGhpcy5jbGllbnQucGFzc3dvcmQ7DQogICAgICB9DQogICAgfSwNCiAgICB1cGRhdGVDbGllbnQoKXsNCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuY2hlY2tQYXNzd29yZEZvcm1WYWx1ZSgpDQogICAgICBjb25zb2xlLmxvZyh1cGRhdGVkQ2xpZW50KQ0KICAgICAgY29uc3QgdXBkYXRlZENsaWVudCA9IHsNCiAgICAgICAgICBjbGllbnQ6IHsNCiAgICAgICAgICAgIGZpcnN0X25hbWU6IHRoaXMuY2xpZW50LmZpcnN0X25hbWUsDQogICAgICAgICAgICBsYXN0X25hbWU6ICB0aGlzLmNsaWVudC5sYXN0X25hbWUsDQogICAgICAgICAgICBlbWFpbDogdGhpcy5jbGllbnQuZW1haWwsDQogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwNCiAgICAgICAgICAgIHBob25lX251bWJlcjogdGhpcy5jbGllbnQucGhvbmVfbnVtYmVyLA0KICAgICAgICAgIH0NCiAgICAgIH07DQogICAgICBjb25zb2xlLmxvZyh1cGRhdGVkQ2xpZW50KQ0KICAgICAgY29uc3QgaWQgPSB0aGlzLmNsaWVudC5pZDsNCg0KICAgICAgY29uc3QgYXBpVXBkYXRlUm91dGUgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9hZG1pbmlzdHJhdG9yL2NsaWVudHMvJytpZDsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHsgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9IH07DQoNCiAgICAgIGF4aW9zLnB1dChhcGlVcGRhdGVSb3V0ZSx1cGRhdGVkQ2xpZW50LGNvbmZpZykNCiAgICAgIC50aGVuKCByZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZygnQWZ0ZXIgRG9uZSBBeGlvcyA9PT4gdXBkYXRlIENsaWVudCcpOw0KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnN1Y2Nlc3NVcGRhdGUgPSAiVGhlIHVwZGF0ZSBzdWNjZWRlZCI7DQogICAgICB9KQ0KICAgICAgLmNhdGNoKCBlcnJvciA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpOw0KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLmVycm9yID0gIlNvbWV0aGluZyB3cm9uZywgUGxlYXNlIHRyeSBhZ2FpbiI7DQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["ClientProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ClientProfile.vue","sourceRoot":"src/views/clients","sourcesContent":["<template>\r\n  <CCol md=\"12\">\r\n    <CCard>\r\n      <CCardHeader>\r\n        <strong>Edit CLient Profil</strong>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <div class=\"alert-success text-center my-3 px-4 py-3\" v-if=\"successUpdate\">\r\n          {{ successUpdate }}\r\n        </div>\r\n        <div class=\"alert-danger text-center my-3 px-4 py-3\" v-if=\"error\">\r\n          {{ error }}\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center px-4 py-3 my-3\" v-if=\"isLoading\">\r\n            <b-spinner variant=\"success\" label=\"Spinning\"></b-spinner>\r\n        </div>\r\n        <CForm>\r\n          <CInput\r\n            description=\"Enter your first name\"\r\n            label=\"First Name\"\r\n            horizontal\r\n            v-model=\"client.first_name\"\r\n          />\r\n          <CInput\r\n            description=\"Enter your last name\"\r\n            label=\"Last Name\"\r\n            horizontal\r\n            v-model=\"client.last_name\"\r\n          />\r\n          <CInput\r\n            label=\"Phone\"\r\n            description=\"your phone number must be 10 caracters\"\r\n            placeholder=\"Enter your phone number\"\r\n            horizontal\r\n            v-model=\"client.phone_number\"\r\n          />\r\n          <CInput\r\n            label=\"Email\"\r\n            description=\"Please enter your email\"\r\n            placeholder=\"Enter your email\"\r\n            type=\"email\"\r\n            horizontal\r\n            autocomplete=\"email\"\r\n            v-model=\"client.email\"\r\n          />\r\n          <CInput\r\n            label=\"Password\"\r\n            description=\"Please enter a complex password\"\r\n            placeholder=\"Enter your password\"\r\n            type=\"password\"\r\n            horizontal\r\n            v-model=\"password\"\r\n          />\r\n          <CInputFile label=\"File custom input\" horizontal custom />\r\n        </CForm>\r\n      </CCardBody>\r\n      <CCardFooter>\r\n        <CButton type=\"submit\" size=\"sm\" color=\"primary\" class=\"mr-3\" @click=\"updateClient\">\r\n          <CIcon name=\"cil-check-circle\"/> Submit</CButton>\r\n        <CButton type=\"reset\" size=\"sm\" color=\"danger\"\r\n          ><CIcon name=\"cil-ban\" /> Reset</CButton\r\n        >\r\n      </CCardFooter>\r\n    </CCard>\r\n  </CCol>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  props: ['editedClient'],\r\n  data() {\r\n    return {\r\n      /*firstName: this.editedClient.first_name,\r\n      lastName: this.client.last_name,\r\n      email: this.client.email,\r\n      password: this.client.password,\r\n      phoneNumber: this.client.phoneNumber,\r\n      status: this.client.status,*/\r\n      password: '',\r\n      isLoading: false,\r\n      successUpdate: '',\r\n      error: '',\r\n    };\r\n  },\r\n  computed: {\r\n    client() {\r\n      return this.editedClient;\r\n    },\r\n    status(){\r\n      return this.client.is_suspended === 0 ? false:true;\r\n    }\r\n  },\r\n  methods: {\r\n    checkPasswordFormValue(){\r\n      if( this.password.length == 0 ){\r\n        this.password = this.client.password;\r\n      }\r\n    },\r\n    updateClient(){\r\n      this.isLoading = true;\r\n      this.checkPasswordFormValue()\r\n      console.log(updatedClient)\r\n      const updatedClient = {\r\n          client: {\r\n            first_name: this.client.first_name,\r\n            last_name:  this.client.last_name,\r\n            email: this.client.email,\r\n            password: this.password,\r\n            phone_number: this.client.phone_number,\r\n          }\r\n      };\r\n      console.log(updatedClient)\r\n      const id = this.client.id;\r\n\r\n      const apiUpdateRoute = 'http://localhost:8000/api/administrator/clients/'+id;\r\n      const config = { headers: {'Content-Type': 'application/json'} };\r\n\r\n      axios.put(apiUpdateRoute,updatedClient,config)\r\n      .then( res => {\r\n        console.log('After Done Axios ==> update Client');\r\n        this.isLoading = false;\r\n        this.successUpdate = \"The update succeded\";\r\n      })\r\n      .catch( error => {\r\n        console.log(error.response.data);\r\n        this.isLoading = false;\r\n        this.error = \"Something wrong, Please try again\";\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}