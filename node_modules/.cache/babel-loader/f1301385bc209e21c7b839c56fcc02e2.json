{"remainingRequest":"E:\\Vue Js Projects\\adminPanel\\node_modules\\babel-loader\\lib\\index.js!E:\\Vue Js Projects\\adminPanel\\src\\axiosInstance.js","dependencies":[{"path":"E:\\Vue Js Projects\\adminPanel\\src\\axiosInstance.js","mtime":1621242068641},{"path":"E:\\Vue Js Projects\\adminPanel\\.babelrc","mtime":1621195127839},{"path":"E:\\Vue Js Projects\\adminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621195141972},{"path":"E:\\Vue Js Projects\\adminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":1621195137340}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGdldEhlYWRlciBmcm9tICIuL2NvbmZpZyI7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXIvaW5kZXgnOwp2YXIgYXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgaGVhZGVyczogewogICAgQWNjZXB0OiBnZXRIZWFkZXIoKS5BY2NlcHQsCiAgICBBdXRob3JpemF0aW9uOiBnZXRIZWFkZXIoKS5BdXRob3JpemF0aW9uCiAgfQp9KTsgLy8gbG9nb3V0IGlmIHVuYXV0aG9yaXplZCB1c2VyCgpheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImFkbWluIik7CiAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgfQoKICByZXR1cm4gZXJyb3I7Cn0pOwpleHBvcnQgZGVmYXVsdCBheGlvc0luc3RhbmNlOw=="},{"version":3,"sources":["E:/Vue Js Projects/adminPanel/src/axiosInstance.js"],"names":["axios","getHeader","router","axiosInstance","create","headers","Accept","Authorization","interceptors","response","use","error","status","localStorage","removeItem","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,UAAtB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,IAAMC,aAAa,GAAGH,KAAK,CAACI,MAAN,CAAa;AACjCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAEL,SAAS,GAAGK,MADb;AAEPC,IAAAA,aAAa,EAAEN,SAAS,GAAGM;AAFpB;AADwB,CAAb,CAAtB,C,CAOA;;AACAJ,aAAa,CAACK,YAAd,CAA2BC,QAA3B,CAAoCC,GAApC,CACE,UAACD,QAAD,EAAc;AACZ,SAAOA,QAAP;AACD,CAHH,EAIE,UAACE,KAAD,EAAW;AACT,MAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAZ,IAAAA,MAAM,CAACa,IAAP,CAAY,QAAZ;AACD;;AACD,SAAOJ,KAAP;AACD,CAXH;AAcA,eAAeR,aAAf","sourcesContent":["import axios from \"axios\";\r\nimport getHeader from \"./config\";\r\nimport router from './router/index'\r\n\r\nconst axiosInstance = axios.create({\r\n  headers: {\r\n    Accept: getHeader().Accept,\r\n    Authorization: getHeader().Authorization,\r\n  },\r\n});\r\n\r\n// logout if unauthorized user\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response.status === 401) {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"admin\");\r\n      router.push('/login');\r\n    }\r\n    return error;\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n"]}]}