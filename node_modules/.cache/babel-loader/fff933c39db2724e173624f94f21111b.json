{"remainingRequest":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js!E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Vue Js Projects\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue Js Projects\\AdminPanel\\src\\views\\clients\\Clients.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue Js Projects\\AdminPanel\\src\\views\\clients\\Clients.vue","mtime":1619446513990},{"path":"E:\\Vue Js Projects\\AdminPanel\\.babelrc","mtime":1618712930832},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Vue Js Projects\\AdminPanel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VycyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dNb2RhbDogZmFsc2UsCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICJmaXJzdF9uYW1lIiwKICAgICAgICBsYWJlbDogIkZpcnN0IG5hbWUiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsYXN0X25hbWUiLAogICAgICAgIGxhYmVsOiAiTGFzdCBuYW1lIgogICAgICB9LCB7CiAgICAgICAga2V5OiAiZW1haWwiLAogICAgICAgIGxhYmVsOiAiRW1haWwiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJwaG9uZV9udW1iZXIiLAogICAgICAgIGxhYmVsOiAiUGhvbmUgbnVtYmVyIgogICAgICB9LCB7CiAgICAgICAga2V5OiAiYWN0aW9ucyIsCiAgICAgICAgbGFiZWw6ICJBY3Rpb25zIgogICAgICB9XSwKICAgICAgYWN0aXZlUGFnZTogMSwKICAgICAgZXJyb3I6ICIiLAogICAgICBzdWNjZXNzOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbGllbnRzOiBmdW5jdGlvbiBjbGllbnRzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDbGllbnRzOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIocm91dGUpIHsKICAgICAgICBpZiAocm91dGUucXVlcnkgJiYgcm91dGUucXVlcnkucGFnZSkgewogICAgICAgICAgdGhpcy5hY3RpdmVQYWdlID0gTnVtYmVyKHJvdXRlLnF1ZXJ5LnBhZ2UpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcGFnZUNoYW5nZTogZnVuY3Rpb24gcGFnZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBwYWdlOiB2YWwKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dDbGllbnQ6IGZ1bmN0aW9uIHNob3dDbGllbnQoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICJjbGllbnRzLyIuY29uY2F0KGlkKQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkQ2xpZW50czogZnVuY3Rpb24gbG9hZENsaWVudHMoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2FkQ2xpZW50cyIpOwogICAgfSwKICAgIGRlbGV0ZUNsaWVudDogZnVuY3Rpb24gZGVsZXRlQ2xpZW50KGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZGVsZXRlQ2xpZW50IiwgaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnN1Y2Nlc3MgPSAiQ0xpZW50J3MgZGVsZXRlZCBzdWNjZXNzZnVsbHkgISEhIjsKICAgICAgICBjb25zb2xlLmxvZygiQ0xpZW50J3MgZGVsZXRlZCBzdWNjZXNzZnVsbHkgISEhIik7CgogICAgICAgIF90aGlzLmxvYWRDbGllbnRzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpOwogICAgICAgIF90aGlzLmVycm9yID0gIlRoZSBkZWxldGUgcHJvY2VzcyBmYWlsZWQiOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRDbGllbnRzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Clients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,CACA;AAAA,QAAA,GAAA,EAAA,YAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,GAAA,EAAA,WAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,GAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,GAAA,EAAA,cAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,GAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OALA,CAFA;AASA,MAAA,UAAA,EAAA,CATA;AAUA,MAAA,KAAA,EAAA,EAVA;AAWA,MAAA,OAAA,EAAA;AAXA,KAAA;AAaA,GAhBA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,UAAA;AACA;AAHA,GAjBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,OAFA,mBAEA,KAFA,EAEA;AACA,YAAA,KAAA,CAAA,KAAA,IAAA,KAAA,CAAA,KAAA,CAAA,IAAA,EAAA;AACA,eAAA,UAAA,GAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA;AACA;AANA;AADA,GAtBA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAAA,OAAA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,EAJA,EAIA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,oBAAA,EAAA;AAAA,OAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA,KATA;AAUA,IAAA,YAVA,wBAUA,EAVA,EAUA;AAAA;;AACA,WAAA,MAAA,CACA,QADA,CACA,cADA,EACA,EADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,mCAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,mCAAA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,2BAAA;AACA,OAVA;AAWA;AAtBA,GAhCA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,SAAA,WAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\n  <CRow>\n    <CCol col=\"12\" xl=\"12\">\n      <CCard>\n        <div class=\"alert alert-danger text-center px-3 my-4\" v-if=\"error\">\n          {{ error }}\n        </div>\n        <div class=\"alert alert-success text-center px-3 my-4\" v-if=\"success\">\n          {{ success }}\n        </div>\n        <CCardHeader>\n          <b>Clients</b>\n        </CCardHeader>\n        <CCardBody>\n          <CDataTable\n            hover\n            striped\n            :items=\"clients\"\n            :fields=\"fields\"\n            :items-per-page=\"7\"\n            :active-page=\"activePage\"\n            :pagination=\"{ doubleArrows: false, align: 'center' }\"\n            @page-change=\"pageChange\"\n            class=\"text-center\"\n            id=\"thead-dark\"\n          >\n            <template #actions=\"data\">\n              <td>\n                <b-button\n                  size=\"sm\"\n                  variant=\"outline-primary mr-2\"\n                  @click=\"showClient(data.item.id)\"\n                  >Show</b-button\n                >\n                <b-button\n                  size=\"sm\"\n                  variant=\"danger\"\n                  type=\"button\"\n                  data-toggle=\"modal\"\n                  data-target=\"#exampleModal\"\n                  >Delete</b-button\n                >\n              </td>\n\n              <!-- Modal to Confirm Delete -->\n              <div\n                class=\"modal fade\"\n                id=\"exampleModal\"\n                tabindex=\"-1\"\n                role=\"dialog\"\n                aria-labelledby=\"exampleModalLabel\"\n                aria-hidden=\"true\"\n              >\n                >\n                <div class=\"modal-dialog\" role=\"document\">\n                  <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                      <h5 class=\"modal-title\">\n                        Are you sure you want to delete ?\n                      </h5>\n                      <button\n                        type=\"button\"\n                        class=\"close\"\n                        data-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                      >\n                        <span aria-hidden=\"true\" @click=\"showModal = false\">&times;</span>\n                      </button>\n                    </div>\n                    <div class=\"modal-body\">\n                      <p>chi haja tal mn ba3d</p>\n                    </div>\n                    <div class=\"modal-footer\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-primary\"\n                        @click=\"deleteClient(data.item.id)\"\n                      >\n                        Delete\n                      </button>\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-secondary\"\n                        data-dismiss=\"modal\"\n                        @click=\"showModal = false\"\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </CDataTable>\n        </CCardBody>\n      </CCard>\n    </CCol>\n  </CRow>\n</template>\n\n<script>\nexport default {\n  name: \"Users\",\n  data() {\n    return {\n      showModal: false,\n      fields: [\n        { key: \"first_name\", label: \"First name\" },\n        { key: \"last_name\", label: \"Last name\" },\n        { key: \"email\", label: \"Email\" },\n        { key: \"phone_number\", label: \"Phone number\" },\n        { key: \"actions\", label: \"Actions\" },\n      ],\n      activePage: 1,\n      error: \"\",\n      success: \"\",\n    };\n  },\n  computed: {\n    clients() {\n      return this.$store.getters.getClients;\n    },\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler(route) {\n        if (route.query && route.query.page) {\n          this.activePage = Number(route.query.page);\n        }\n      },\n    },\n  },\n  methods: {\n    pageChange(val) {\n      this.$router.push({ query: { page: val } });\n    },\n    showClient(id) {\n      this.$router.push({ path: `clients/${id}` });\n    },\n    loadClients() {\n      this.$store.dispatch(\"loadClients\");\n    },\n    deleteClient(id) {\n      this.$store\n        .dispatch(\"deleteClient\", id)\n        .then((res) => {\n          this.success = \"CLient's deleted successfully !!!\";\n          console.log(\"CLient's deleted successfully !!!\");\n          this.loadClients();\n        })\n        .catch((error) => {\n          console.log(error.message);\n          this.error = \"The delete process failed\";\n        });\n    },\n  },\n  created() {\n    this.loadClients();\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views/clients"}]}